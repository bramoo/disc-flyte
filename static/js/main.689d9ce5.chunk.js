(this["webpackJsonpdisc-flyte"]=this["webpackJsonpdisc-flyte"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n.n(a),i=n(31),l=n.n(i),c=(n(38),n(12)),s=n(0),o=n(1),u=n(2),h=n(3),d=(n(39),n(11)),p=n(28),j=n.n(p),m=(n(52),n(8));function b(e){var t=j()();return Object(m.jsxs)("div",{className:"inline-number-input",children:[Object(m.jsx)("label",{htmlFor:t,children:e.label}),Object(m.jsx)("input",{id:t,name:e.name,type:"number",value:e.value,onChange:function(t){return e.onChange(t)}})]})}n(54);function y(e){var t=j()();return Object(m.jsxs)("div",{className:"select-input",children:[Object(m.jsx)("label",{htmlFor:t,children:e.label}),Object(m.jsx)("select",{id:t,name:e.name,value:e.value,onChange:function(t){return e.onChange(t)},children:e.children})]})}var v=n(5);function x(e,t,n){if(Array.isArray(e))return e.map((function(e){return x(e,t,n)}));if(e<t[0])return n[0];for(var a=0,r=1;a<t.length-1;a++,r++)if(t[a+1]>e)return(n[a]*(t[r]-e)+n[r]*(e-t[a]))/(t[r]-t[a]);return n[n.length-1]}function g(e,t,n){return new v.Vector3(e,t,n)}var f=function(){function e(t){Object(s.a)(this,e),this.name=t,this.aoarange=[0],this.cl=[0],this.cd=[0],this.cm=[0],this.jxy=0,this.jz=0,this.diam=0}return Object(o.a)(e,[{key:"getCl",value:function(e){return x(e,this.aoarange,this.cl)}},{key:"getCd",value:function(e){return x(e,this.aoarange,this.cd)}},{key:"getCm",value:function(e){return x(e,this.aoarange,this.cm)}}]),e}(),w=new f("Aviar");w.aoarange=[-1.570796327,-.5235987756,-.0872664626,-.06981317008,-.05235987756,-.03490658504,-.01745329252,0,.01745329252,.03490658504,.05235987756,.06981317008,.0872664626,.1047197551,.1221730476,.1396263402,.1570796327,.1745329252,.1919862177,.2094395102,.2268928028,.2443460953,.2617993878,.7853981634,.872664626,1.570796327],w.cl=[0,-1,-.088,-.049,-.009,.034,.093,.154,.21,.256,.304,.343,.383,.426,.468,.508,.549,.591,.631,.672,.702,.74,.78,1.6,.8,0],w.cd=[.4,.188,.076,.071,.07,.072,.072,.084,.088,.085,.102,.117,.133,.141,.157,.174,.189,.203,.216,.226,.245,.266,.281,.7,.5,.6],w.cm=[0,-.08,-.015,-.016,-.011,-.01,-.013,-.018,-.018,-.017,-.014,-.014,-.011,-.008,-.005,0,.005,.009,.011,.02,.024,.032,.039,.23,.02,0],w.jxy=.00423,w.jz=.00846,w.diam=.21;var M=new f("Wraith");M.aoarange=[-1.570796327,-.5235987756,-.0872664626,-.06981317008,-.05235987756,-.03490658504,-.01745329252,0,.01745329252,.03490658504,.05235987756,.06981317008,.0872664626,.1047197551,.1221730476,.1396263402,.1570796327,.1745329252,.1919862177,.2094395102,.2268928028,.2443460953,.2617993878,.7853981634,.872664626,1.570796327],M.cl=[0,-1,-.088,-.049,-.009,.034,.093,.154,.21,.256,.304,.343,.383,.426,.468,.508,.549,.591,.631,.672,.702,.74,.78,1.6,.8,0],M.cd=[.4,.188,.076,.071,.07,.072,.072,.084,.088,.085,.102,.117,.133,.141,.157,.174,.189,.203,.216,.226,.245,.266,.281,.7,.5,.6],M.cm=[0,-.08,-.015,-.016,-.011,-.01,-.013,-.018,-.018,-.017,-.014,-.014,-.011,-.008,-.005,0,.005,.009,.011,.02,.024,.032,.039,.23,.02,0],M.jxy=.00423,M.jz=.00846,M.diam=.21;var O=[w,M];n(56);function A(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],i=n[1],l=function(t){var n=t.target.name,a=e.throw;a[n]=t.target.value,e.onThrowChange(a)},c=e.throw;return Object(m.jsxs)("div",{className:"throw-input",children:[Object(m.jsx)("header",{onClick:function(){return i(!r)},children:Object(m.jsx)("span",{className:"heading",children:O[c.disc].name})}),r&&Object(m.jsxs)("div",{className:"inputs",children:[Object(m.jsx)(y,{label:"Disc",name:"disc",value:c.disc,onChange:l,children:O.map((function(e,t){return Object(m.jsx)("option",{value:t,children:e.name},e.name)}))}),Object(m.jsx)(b,{label:"Mass (g)",name:"mass",value:c.mass,onChange:l}),Object(m.jsx)(b,{label:"Speed (mph)",name:"speed",value:c.speed,onChange:l}),Object(m.jsx)(b,{label:"Spin (rev/s)",name:"spin",value:c.spin,onChange:l}),Object(m.jsxs)(y,{label:"Dir.",name:"direction",value:c.direction,onChange:l,children:[Object(m.jsx)("option",{value:"1",children:"Clockwise (RHBH/LHFH)"}),Object(m.jsx)("option",{value:"-1",children:"Anti-Clockwise (LHBH/RHFH)"})]}),Object(m.jsx)(b,{label:"Launch Angle (deg)",name:"launchAngle",value:c.launchAngle,onChange:l}),Object(m.jsx)(b,{label:"Nose Angle (deg)",name:"noseAngle",value:c.noseAngle,onChange:l}),Object(m.jsx)(b,{label:"Roll Angle (deg)",name:"rollAngle",value:c.rollAngle,onChange:l})]})]})}var C=n(66),S=n(14),k=n(67);n(57);function z(e){var t=.1,n=e.result.pos_g.map((function(e){return g(e.y,e.z,e.x)})),r=e.result.ori_g.map((function(e){return new v.Euler(-e.y,e.z,-e.x,"ZXY")})),i=e.result.ori_g.map((function(e){return(e.x+Math.PI/2)/Math.PI})),l=r.map((function(e,t){return g(-.1,0,0).applyEuler(e).add(n[t])})),c=r.map((function(e,a){return g(t,0,0).applyEuler(e).add(n[a])})),s=r.map((function(e){return g(0,-1,0).applyEuler(e)})),o=Object(a.useMemo)((function(){for(var e,t=[],n=[],a=[],r=0;r<l.length;r++){var o=new v.Color(Object(C.a)((e=i[r],1/(1+Math.exp(30*(e-.5)))))).toArray();t.push(l[r].toArray()),n.push(s[r].toArray()),a.push(o),t.push(c[r].toArray()),n.push(s[r].toArray()),a.push(o)}for(var u=[],h=0;h<l.length-1;h++)u.push(2*h,2*h+1,2*h+2),u.push(2*h+1,2*h+3,2*h+2);var d=new v.BufferGeometry;return d.setIndex(u),d.setAttribute("position",new v.Float32BufferAttribute(t.flat(),3)),d.setAttribute("normal",new v.Float32BufferAttribute(n.flat(),3)),d.setAttribute("color",new v.Float32BufferAttribute(a.flat(),3)),d}),[l,c,s,i]);return Object(m.jsxs)(S.a,{camera:{position:[0,0,-5]},children:[Object(m.jsx)(k.a,{}),Object(m.jsx)("ambientLight",{color:4210752}),Object(m.jsx)("pointLight",{position:[0,20,25],decay:2}),Object(m.jsxs)("mesh",{scale:[t,.1*t,t],position:n[0],rotation:r[0],children:[Object(m.jsx)("sphereGeometry",{}),Object(m.jsx)("meshStandardMaterial",{color:"#ffa500"})]}),Object(m.jsxs)("mesh",{children:[Object(m.jsx)("primitive",{object:o,attach:"geometry"}),Object(m.jsx)("meshBasicMaterial",{toneMapped:!1,vertexColors:!0,side:v.DoubleSide})]}),Object(m.jsxs)("mesh",{position:[0,0,35],rotation:[-Math.PI/2,0,0],children:[Object(m.jsx)("planeGeometry",{args:[10,70]}),Object(m.jsx)("meshStandardMaterial",{color:"#00aa00"})]})]})}var _=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,null,[{key:"groundDisc",value:function(e){var t=e.x,n=e.y,a=e.z,r=Math.cos(t),i=Math.cos(n),l=Math.cos(a),c=Math.sin(t),s=Math.sin(n),o=Math.sin(a);return(new v.Matrix3).set(i*l,c*s*l-r*o,r*s*l+c*c,i*o,c*s*o+r*l,r*s*o-c*l,-s,c*i,r*i)}},{key:"discGround",value:function(e){var t=e.x,n=e.y,a=e.z,r=Math.cos(t),i=Math.cos(n),l=Math.cos(a),c=Math.sin(t),s=Math.sin(n),o=Math.sin(a);return(new v.Matrix3).set(i*l,i*o,-s,c*s*l-r*o,c*s*o+r*l,c*i,r*s*l+c*o,r*s*o-c*l,r*i)}},{key:"discSlip",value:function(e){var t=Math.cos(e),n=Math.sin(e);return(new v.Matrix3).set(t,-n,0,n,t,0,0,0,1)}},{key:"slipDisc",value:function(e){var t=Math.cos(e),n=Math.sin(e);return(new v.Matrix3).set(t,n,0,-n,t,0,0,0,1)}},{key:"slipWind",value:function(e){var t=Math.cos(e),n=Math.sin(e);return(new v.Matrix3).set(t,0,-n,0,1,0,n,0,t)}},{key:"windSlip",value:function(e){var t=Math.cos(e),n=Math.sin(e);return(new v.Matrix3).set(t,0,n,0,1,0,-n,0,t)}}]),e}(),D=.01,F=1001;function I(e,t,n,a,r,i,l,c){var s=0,o=new Array(F),u=new Array(F),h=new Array(F),d=new Array(F),p=new Array(F),j=new Array(F),m=new Array(F),b=new Array(F),y=new Array(F),v=new Array(F),x=new Array(F),f=new Array(F),w=new Array(F),M=new Array(F),O=new Array(F),A=new Array(F),C=new Array(F),S=new Array(F),k=new Array(F);p[s]=g(t,n,0),h[s]=g(i*Math.cos(a),0,i*Math.sin(a));var z=g(0,a,0).applyMatrix3(_.groundDisc(p[s]));p[s].add(z),u[s]=g(0,0,r);for(var I=e.diam,N=e.jxy*c,P=e.jz*c,B=Math.PI*Math.pow(.5*I,2),H=9.81*c;u[s].z>0&&!(s>=1e3);){for(var L=0;;){b[s]=h[s].clone().applyMatrix3(_.groundDisc(p[s])),w[s]=-Math.atan2(b[s].y,b[s].x),x[s]=b[s].clone().applyMatrix3(_.discSlip(w[s])),A[s]=-Math.atan2(x[s].z,x[s].x),O[s]=x[s].clone().applyMatrix3(_.slipWind(A[s]));var T=g(0,0,-H).applyMatrix3(_.groundDisc(p[s])).clone().applyMatrix3(_.discSlip(w[s])).clone().applyMatrix3(_.slipWind(A[s]));if(C[s]=.59*Math.pow(O[s].x,2)*B*e.getCd(A[s]),S[s]=.59*Math.pow(O[s].x,2)*B*e.getCl(A[s]),k[s]=.59*Math.pow(O[s].x,2)*B*I*e.getCm(A[s]),M[s]=g(),f[s]=g(),M[s].x=(T.x-C[s])/c,M[s].z=(T.z+S[s])/c,M[s].y=T.y/c,f[s].x=-k[s]/(l*(N-P)),v[s]=M[s].clone().applyMatrix3(_.windSlip(A[s])),m[s]=v[s].clone().applyMatrix3(_.slipDisc(w[s])),d[s]=m[s].clone().applyMatrix3(_.discGround(p[s])),y[s]=f[s].clone().applyMatrix3(_.slipDisc(w[s])),j[s]=y[s].clone().applyMatrix3(_.discGround(p[s])),0===s)break;if(L>=1)break;var G=d[s-1].clone().add(d[s]).multiplyScalar(.5),E=j[s-1].clone().add(j[s]).multiplyScalar(.5);h[s]=h[s-1].clone().add(G.clone().multiplyScalar(D)),u[s]=u[s-1].clone().add(h[s-1].clone().multiplyScalar(D)).add(G.clone().multiplyScalar(.5*Math.pow(D,2))),p[s]=p[s-1].clone().add(E.clone().multiplyScalar(D)),L++}h[s+1]=h[s].clone().add(d[s].clone().multiplyScalar(D)),u[s+1]=u[s].clone().add(h[s].clone().multiplyScalar(D)).add(d[s].clone().multiplyScalar(.5*Math.pow(D,2))),p[s+1]=p[s].clone().add(j[s].clone().multiplyScalar(D)),o[s+1]=o[s]+D,s++}return{t:o.slice(0,s),lift:S.slice(0,s),drag:C.slice(0,s),mom:k.slice(0,s),alpha:A.slice(0,s),beta:w.slice(0,s),pos_g:u.slice(0,s),vel_g:h.slice(0,s),acl_g:d.slice(0,s),ori_g:p.slice(0,s),rot_g:j.slice(0,s),vel_d:b.slice(0,s),vel_w:O.slice(0,s),acl_w:M.slice(0,s),rot_s:f.slice(0,s)}}var N=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;Object(s.a)(this,n);var r=[{id:0,disc:0,mass:175,speed:50,spin:27,direction:1,launchAngle:10,noseAngle:4,rollAngle:8},{id:1,disc:1,mass:170,speed:30,spin:20,direction:1,launchAngle:8,noseAngle:6,rollAngle:0}],i=(a=t.call(this,e)).simulate(r[0]);return a.state={throws:r,result:i},a}return Object(o.a)(n,[{key:"simulate",value:function(e){var t=[e.rollAngle*Math.PI/180,e.noseAngle*Math.PI/180,e.launchAngle*Math.PI/180,1.8,.44704*e.speed,e.spin*e.direction*2*Math.PI,e.mass/1e3];return I.apply(void 0,[O[e.disc]].concat(t))}},{key:"handleThrowChange",value:function(e,t){var n=this.simulate(t);this.setState({result:n});var a=Object(c.a)(this.state.throws);a[e]=t,this.setState({throws:a})}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"app-container",children:[Object(m.jsxs)("div",{className:"throw-container",children:[Object(m.jsx)("h2",{className:"throw-header",children:"Throws"}),Object(m.jsx)("div",{className:"throw-list",children:this.state.throws.map((function(t,n){return Object(m.jsx)(A,{throw:t,onThrowChange:e.handleThrowChange.bind(e,n)},t.id)}))})]}),Object(m.jsx)("div",{className:"view-container",children:Object(m.jsx)(z,{result:this.state.result})})]})}}]),n}(r.a.Component),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),r(e),i(e),l(e)}))};l.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root")),P()}},[[60,1,2]]]);
//# sourceMappingURL=main.689d9ce5.chunk.js.map