(this["webpackJsonpdisc-flyte"]=this["webpackJsonpdisc-flyte"]||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){},52:function(e,n,t){},54:function(e,n,t){},56:function(e,n,t){},57:function(e,n,t){},60:function(e,n,t){"use strict";t.r(n);var a=t(8),r=t.n(a),i=t(31),l=t.n(i),c=(t(38),t(12)),s=t(11),o=(t(39),t(26)),u=t.n(o),h=(t(52),t(6));function d(e){var n=u()();return Object(h.jsxs)("div",{className:"inline-number-input",children:[Object(h.jsx)("label",{htmlFor:n,children:e.label}),Object(h.jsx)("input",{id:n,name:e.name,type:"number",value:e.value,onChange:function(n){return e.onChange(n)}})]})}t(54);function p(e){var n=u()();return Object(h.jsxs)("div",{className:"select-input",children:[Object(h.jsx)("label",{htmlFor:n,children:e.label}),Object(h.jsx)("select",{id:n,name:e.name,value:e.value,onChange:function(n){return e.onChange(n)},children:e.children})]})}var j=t(0),b=t(1),m=t(5);function x(e,n,t){if(Array.isArray(e))return e.map((function(e){return x(e,n,t)}));if(e<n[0])return t[0];for(var a=0,r=1;a<n.length-1;a++,r++)if(n[a+1]>e)return(t[a]*(n[r]-e)+t[r]*(e-n[a]))/(n[r]-n[a]);return t[t.length-1]}function y(e,n,t){return new m.Vector3(e,n,t)}var g=function(){function e(n){Object(j.a)(this,e),this.name=n,this.aoarange=[0],this.cl=[0],this.cd=[0],this.cm=[0],this.jxy=0,this.jz=0,this.diam=0}return Object(b.a)(e,[{key:"getCl",value:function(e){return x(e,this.aoarange,this.cl)}},{key:"getCd",value:function(e){return x(e,this.aoarange,this.cd)}},{key:"getCm",value:function(e){return x(e,this.aoarange,this.cm)}}]),e}(),f=new g("Aviar");f.aoarange=[-1.570796327,-.5235987756,-.0872664626,-.06981317008,-.05235987756,-.03490658504,-.01745329252,0,.01745329252,.03490658504,.05235987756,.06981317008,.0872664626,.1047197551,.1221730476,.1396263402,.1570796327,.1745329252,.1919862177,.2094395102,.2268928028,.2443460953,.2617993878,.7853981634,.872664626,1.570796327],f.cl=[0,-1,-.088,-.049,-.009,.034,.093,.154,.21,.256,.304,.343,.383,.426,.468,.508,.549,.591,.631,.672,.702,.74,.78,1.6,.8,0],f.cd=[.4,.188,.076,.071,.07,.072,.072,.084,.088,.085,.102,.117,.133,.141,.157,.174,.189,.203,.216,.226,.245,.266,.281,.7,.5,.6],f.cm=[0,-.08,-.015,-.016,-.011,-.01,-.013,-.018,-.018,-.017,-.014,-.014,-.011,-.008,-.005,0,.005,.009,.011,.02,.024,.032,.039,.23,.02,0],f.jxy=.00423,f.jz=.00846,f.diam=.21;var v=new g("Wraith");v.aoarange=[-1.570796327,-.5235987756,-.0872664626,-.06981317008,-.05235987756,-.03490658504,-.01745329252,0,.01745329252,.03490658504,.05235987756,.06981317008,.0872664626,.1047197551,.1221730476,.1396263402,.1570796327,.1745329252,.1919862177,.2094395102,.2268928028,.2443460953,.2617993878,.7853981634,.872664626,1.570796327],v.cl=[0,-1,-.088,-.049,-.009,.034,.093,.154,.21,.256,.304,.343,.383,.426,.468,.508,.549,.591,.631,.672,.702,.74,.78,1.6,.8,0],v.cd=[.4,.188,.076,.071,.07,.072,.072,.084,.088,.085,.102,.117,.133,.141,.157,.174,.189,.203,.216,.226,.245,.266,.281,.7,.5,.6],v.cm=[0,-.08,-.015,-.016,-.011,-.01,-.013,-.018,-.018,-.017,-.014,-.014,-.011,-.008,-.005,0,.005,.009,.011,.02,.024,.032,.039,.23,.02,0],v.jxy=.00423,v.jz=.00846,v.diam=.21;var M=[f,v];t(56);function w(e){var n=Object(a.useState)(!1),t=Object(s.a)(n,2),r=t[0],i=t[1],l=function(n){var t=n.target.name,a=e.throw;a[t]=n.target.value,e.onThrowChange(a)},c=e.throw;return Object(h.jsxs)("div",{className:"throw-input",children:[Object(h.jsx)("header",{onClick:function(){return i(!r)},children:Object(h.jsx)("span",{className:"heading",children:M[c.disc].name})}),r&&Object(h.jsxs)("div",{className:"inputs",children:[Object(h.jsx)(p,{label:"Disc",name:"disc",value:c.disc,onChange:l,children:M.map((function(e,n){return Object(h.jsx)("option",{value:n,children:e.name},e.name)}))}),Object(h.jsx)(d,{label:"Mass (g)",name:"mass",value:c.mass,onChange:l}),Object(h.jsx)(d,{label:"Speed (mph)",name:"speed",value:c.speed,onChange:l}),Object(h.jsx)(d,{label:"Spin (rev/s)",name:"spin",value:c.spin,onChange:l}),Object(h.jsxs)(p,{label:"Dir.",name:"direction",value:c.direction,onChange:l,children:[Object(h.jsx)("option",{value:"1",children:"Clockwise (RHBH/LHFH)"}),Object(h.jsx)("option",{value:"-1",children:"Anti-Clockwise (LHBH/RHFH)"})]}),Object(h.jsx)(d,{label:"Launch Angle (deg)",name:"launchAngle",value:c.launchAngle,onChange:l}),Object(h.jsx)(d,{label:"Nose Angle (deg)",name:"noseAngle",value:c.noseAngle,onChange:l}),Object(h.jsx)(d,{label:"Roll Angle (deg)",name:"rollAngle",value:c.rollAngle,onChange:l})]})]})}var O=t(14),A=t(67),C=t(66);function S(e){var n=e.radius,t=e.aspect,r=e.result.pos_g.map((function(e){return y(e.y,e.z,e.x)})),i=e.result.ori_g.map((function(e){return new m.Euler(-e.y,e.z,-e.x,"ZXY")})),l=e.result.ori_g.map((function(e){return(e.x+Math.PI/2)/Math.PI})),c=i.map((function(e,t){return y(-n,0,0).applyEuler(e).add(r[t])})),s=i.map((function(e,t){return y(n,0,0).applyEuler(e).add(r[t])})),o=i.map((function(e){return y(0,-1,0).applyEuler(e)})),u=Object(a.useMemo)((function(){for(var e,n=[],t=[],a=[],r=0;r<c.length;r++){var i=new m.Color(Object(C.a)((e=l[r],1/(1+Math.exp(30*(e-.5)))))).toArray();n.push(c[r].toArray()),t.push(o[r].toArray()),a.push(i),n.push(s[r].toArray()),t.push(o[r].toArray()),a.push(i)}for(var u=[],h=0;h<c.length-1;h++)u.push(2*h,2*h+1,2*h+2),u.push(2*h+1,2*h+3,2*h+2);var d=new m.BufferGeometry;return d.setIndex(u),d.setAttribute("position",new m.Float32BufferAttribute(n.flat(),3)),d.setAttribute("normal",new m.Float32BufferAttribute(t.flat(),3)),d.setAttribute("color",new m.Float32BufferAttribute(a.flat(),3)),d}),[c,s,o,l]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("mesh",{scale:[n,n*t,n],position:r[0],rotation:i[0],children:[Object(h.jsx)("sphereGeometry",{}),Object(h.jsx)("meshStandardMaterial",{color:"#ffa500"})]}),Object(h.jsxs)("mesh",{children:[Object(h.jsx)("primitive",{object:u,attach:"geometry"}),Object(h.jsx)("meshBasicMaterial",{toneMapped:!1,vertexColors:!0,side:m.DoubleSide})]})]})}t(57);function k(e){var n=e.result.pos_g.map((function(e){return e.x})),t=Math.max.apply(Math,n)+10;return Object(h.jsxs)(O.a,{resize:{scroll:!0,debounce:0},camera:{position:[0,0,-5]},children:[Object(h.jsx)(A.a,{target:[0,0,35]}),Object(h.jsx)("ambientLight",{color:2105376}),Object(h.jsx)("pointLight",{position:[0,20,25],intensity:.5,decay:2}),Object(h.jsx)(S,{radius:.1,aspect:.1,result:e.result}),Object(h.jsxs)("mesh",{position:[0,0,t/2-5],rotation:[-Math.PI/2,0,0],children:[Object(h.jsx)("planeGeometry",{args:[10,t]}),Object(h.jsx)("meshStandardMaterial",{color:"#00aa00"})]})]})}var F=function(){function e(){Object(j.a)(this,e)}return Object(b.a)(e,null,[{key:"groundDisc",value:function(e){var n=e.x,t=e.y,a=e.z,r=Math.cos(n),i=Math.cos(t),l=Math.cos(a),c=Math.sin(n),s=Math.sin(t),o=Math.sin(a);return(new m.Matrix3).set(i*l,c*s*l-r*o,r*s*l+c*c,i*o,c*s*o+r*l,r*s*o-c*l,-s,c*i,r*i)}},{key:"discGround",value:function(e){var n=e.x,t=e.y,a=e.z,r=Math.cos(n),i=Math.cos(t),l=Math.cos(a),c=Math.sin(n),s=Math.sin(t),o=Math.sin(a);return(new m.Matrix3).set(i*l,i*o,-s,c*s*l-r*o,c*s*o+r*l,c*i,r*s*l+c*o,r*s*o-c*l,r*i)}},{key:"discSlip",value:function(e){var n=Math.cos(e),t=Math.sin(e);return(new m.Matrix3).set(n,-t,0,t,n,0,0,0,1)}},{key:"slipDisc",value:function(e){var n=Math.cos(e),t=Math.sin(e);return(new m.Matrix3).set(n,t,0,-t,n,0,0,0,1)}},{key:"slipWind",value:function(e){var n=Math.cos(e),t=Math.sin(e);return(new m.Matrix3).set(n,0,-t,0,1,0,t,0,n)}},{key:"windSlip",value:function(e){var n=Math.cos(e),t=Math.sin(e);return(new m.Matrix3).set(n,0,t,0,1,0,-t,0,n)}}]),e}(),z=.01,_=1001;function D(e,n,t,a,r,i,l,c){var s=0,o=new Array(_),u=new Array(_),h=new Array(_),d=new Array(_),p=new Array(_),j=new Array(_),b=new Array(_),m=new Array(_),x=new Array(_),g=new Array(_),f=new Array(_),v=new Array(_),M=new Array(_),w=new Array(_),O=new Array(_),A=new Array(_),C=new Array(_),S=new Array(_),k=new Array(_);p[s]=y(n,t,0),h[s]=y(i*Math.cos(a),0,i*Math.sin(a));var D=y(0,a,0).applyMatrix3(F.groundDisc(p[s]));p[s].add(D),u[s]=y(0,0,r);for(var I=e.diam,P=e.jxy*c,B=e.jz*c,N=Math.PI*Math.pow(.5*I,2),H=9.81*c;u[s].z>0&&!(s>=1e3);){for(var L=0;;){m[s]=h[s].clone().applyMatrix3(F.groundDisc(p[s])),M[s]=-Math.atan2(m[s].y,m[s].x),f[s]=m[s].clone().applyMatrix3(F.discSlip(M[s])),A[s]=-Math.atan2(f[s].z,f[s].x),O[s]=f[s].clone().applyMatrix3(F.slipWind(A[s]));var G=y(0,0,-H).applyMatrix3(F.groundDisc(p[s])).clone().applyMatrix3(F.discSlip(M[s])).clone().applyMatrix3(F.slipWind(A[s]));if(C[s]=.59*Math.pow(O[s].x,2)*N*e.getCd(A[s]),S[s]=.59*Math.pow(O[s].x,2)*N*e.getCl(A[s]),k[s]=.59*Math.pow(O[s].x,2)*N*I*e.getCm(A[s]),w[s]=y(),v[s]=y(),w[s].x=(G.x-C[s])/c,w[s].z=(G.z+S[s])/c,w[s].y=G.y/c,v[s].x=-k[s]/(l*(P-B)),g[s]=w[s].clone().applyMatrix3(F.windSlip(A[s])),b[s]=g[s].clone().applyMatrix3(F.slipDisc(M[s])),d[s]=b[s].clone().applyMatrix3(F.discGround(p[s])),x[s]=v[s].clone().applyMatrix3(F.slipDisc(M[s])),j[s]=x[s].clone().applyMatrix3(F.discGround(p[s])),0===s)break;if(L>=1)break;var E=d[s-1].clone().add(d[s]).multiplyScalar(.5),T=j[s-1].clone().add(j[s]).multiplyScalar(.5);h[s]=h[s-1].clone().add(E.clone().multiplyScalar(z)),u[s]=u[s-1].clone().add(h[s-1].clone().multiplyScalar(z)).add(E.clone().multiplyScalar(.5*Math.pow(z,2))),p[s]=p[s-1].clone().add(T.clone().multiplyScalar(z)),L++}h[s+1]=h[s].clone().add(d[s].clone().multiplyScalar(z)),u[s+1]=u[s].clone().add(h[s].clone().multiplyScalar(z)).add(d[s].clone().multiplyScalar(.5*Math.pow(z,2))),p[s+1]=p[s].clone().add(j[s].clone().multiplyScalar(z)),o[s+1]=o[s]+z,s++}return{t:o.slice(0,s),lift:S.slice(0,s),drag:C.slice(0,s),mom:k.slice(0,s),alpha:A.slice(0,s),beta:M.slice(0,s),pos_g:u.slice(0,s),vel_g:h.slice(0,s),acl_g:d.slice(0,s),ori_g:p.slice(0,s),rot_g:j.slice(0,s),vel_d:m.slice(0,s),vel_w:O.slice(0,s),acl_w:w.slice(0,s),rot_s:v.slice(0,s)}}var I=[{id:0,disc:0,mass:175,speed:50,spin:27,direction:1,launchAngle:10,noseAngle:4,rollAngle:8},{id:1,disc:1,mass:170,speed:30,spin:20,direction:1,launchAngle:8,noseAngle:6,rollAngle:0}],P=function(e){var n=[e.rollAngle*Math.PI/180,e.noseAngle*Math.PI/180,e.launchAngle*Math.PI/180,1.8,.44704*e.speed,e.spin*e.direction*2*Math.PI,e.mass/1e3];return D.apply(void 0,[M[e.disc]].concat(n))};function B(){var e=Object(a.useState)(I),n=Object(s.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(P(t[0])),l=Object(s.a)(i,2),o=l[0],u=l[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(k,{result:o}),Object(h.jsx)("h1",{children:"Disc Flyte"}),Object(h.jsxs)("div",{className:"throw-container",children:[Object(h.jsx)("h2",{className:"throw-header",children:"Throws"}),Object(h.jsx)("div",{className:"throw-list",children:t.map((function(e,n){return Object(h.jsx)(w,{throw:e,onThrowChange:function(e){return function(e,n){var a=P(n);u(a);var i=Object(c.a)(t);i[e]=n,r(i)}(n,e)}},e.id)}))})]})]})}var N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,68)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,l=n.getTTFB;t(e),a(e),r(e),i(e),l(e)}))};l.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById("root")),N()}},[[60,1,2]]]);
//# sourceMappingURL=main.20c051ec.chunk.js.map